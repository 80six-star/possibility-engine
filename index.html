<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Possibility Engine</title>
    <style>
        body {
            background-color: #05080F;
            color: #E6ECFF;
        }
        .result-card {
            border: 1px solid #E6ECFF;
            border-radius: 8px;
            padding: 20px;
            margin: 20px;
            background-color: rgba(255, 255, 255, 0.1);
        }
    </style>
</head>
<body>
    <h1>The Possibility Engine</h1>
    <label for="identity">Identity:</label>
    <input type="text" id="identity" placeholder="Enter your identity">
    <br><br>
    <label for="idea">Idea:</label>
    <textarea id="idea" placeholder="Enter your idea"></textarea>
    <br><br>
    <label for="decision">Decision:</label>
    <textarea id="decision" placeholder="Enter your decision"></textarea>
    <br><br>
    <button onclick="run()">Run</button>
    <div id="result" class="result-card" style="display:none;"></div>

    <script>
        function hash(string) {
            let hash = 0;
            for (let i = 0; i < string.length; i++) {
                hash = (hash << 5) - hash + string.charCodeAt(i);
                hash = hash | 0; // Convert to 32bit integer
            }
            return hash;
        }

        function run() {
            const identity = document.getElementById('identity').value;
            const idea = document.getElementById('idea').value;
            const decision = document.getElementById('decision').value;
            
            if (!identity || !idea || !decision) {
                alert('Please fill in all fields.');
                return;
            }

            const coherence = hash(identity + idea) % 100;
            const novelty = hash(idea + decision) % 100;
            const alignment = hash(identity + decision) % 100;
            const risk = 100 - (coherence + novelty + alignment) / 3;

            const possibleFutures = ['Future A', 'Future B', 'Future C'];
            const strategicLevers = ['Leverage A', 'Leverage B', 'Leverage C'];

            const selectedFuture = possibleFutures[Math.floor(Math.random() * possibleFutures.length)];
            const selectedLever = strategicLevers[Math.floor(Math.random() * strategicLevers.length)];

            document.getElementById('result').style.display = 'block';
            document.getElementById('result').innerHTML = `\n                <h2>Results</h2>\n                <p>Coherence: ${coherence}%</p>\n                <p>Novelty: ${novelty}%</p>\n                <p>Alignment: ${alignment}%</p>\n                <p>Risk: ${risk}%</p>\n                <p>Selected Future: ${selectedFuture}</p>\n                <p>Strategic Lever: ${selectedLever}</p>\n            `;
        }
    </script>
</body>
</html>